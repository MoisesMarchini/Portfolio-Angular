import { AfterViewInit, Component, OnInit } from '@angular/core';
import { interval } from 'rxjs';

@Component({
  selector: 'app-header',
  templateUrl: './header.component.html',
  styleUrls: ['./header.component.scss']
})
export class HeaderComponent implements OnInit, AfterViewInit {

  line1 = 'MoisÃ©s Marchini'
  animatedText1 = "FRONT-END"
  animatedText2 = 'DEVELOPER'

  svgAnimationInterval = 5000;
  currentSvgPath = 0;
  svgPaths = [
    'M52.2,-72.4C65.7,-62,73.5,-44.2,78.8,-26.1C84,-7.9,86.7,10.5,80.4,25C74.2,39.5,59,50,44.2,55C29.3,60,14.6,59.6,-1.2,61.3C-17.1,63.1,-34.3,66.9,-48.9,61.8C-63.6,56.7,-75.9,42.7,-75.9,28.1C-75.9,13.5,-63.6,-1.6,-55.8,-15.8C-48,-30,-44.6,-43.4,-36,-55.5C-27.5,-67.6,-13.7,-78.4,2.8,-82.3C19.3,-86.1,38.6,-82.9,52.2,-72.4Z',
    'M36.6,-53C48.7,-41.5,60.9,-32.6,67,-20.2C73.2,-7.9,73.3,8,70.6,25.1C68,42.1,62.6,60.4,50.4,63.3C38.1,66.2,19.1,53.7,5.2,46.5C-8.6,39.3,-17.3,37.5,-25.6,33.3C-33.9,29.2,-41.9,22.7,-53.4,11.6C-64.8,0.6,-79.7,-15.1,-79.8,-29.4C-79.9,-43.7,-65.2,-56.6,-49.4,-67C-33.7,-77.4,-16.8,-85.2,-2.3,-82C12.2,-78.8,24.4,-64.6,36.6,-53Z',
    'M35.9,-53.2C44.5,-43.2,48.1,-30,56.9,-15.5C65.8,-1,80.1,14.8,77.4,25.8C74.8,36.8,55.2,43,39.5,44.8C23.8,46.7,11.9,44.2,-2.6,47.7C-17.1,51.3,-34.1,60.9,-45.7,57.7C-57.2,54.5,-63.2,38.5,-65.2,23.3C-67.1,8.2,-65,-6.1,-60.8,-20C-56.6,-33.9,-50.4,-47.4,-40,-56.8C-29.5,-66.1,-14.7,-71.4,-0.5,-70.6C13.7,-69.9,27.3,-63.1,35.9,-53.2Z',
    'M26,-37C34.6,-29.5,43.2,-23.2,46.1,-14.8C48.9,-6.5,46.1,3.8,44.4,16.1C42.7,28.4,42.1,42.7,34.9,50.2C27.7,57.7,13.8,58.4,-1.6,60.6C-17.1,62.9,-34.2,66.7,-48.2,61.4C-62.2,56.2,-73.2,41.8,-80.1,25C-87.1,8.2,-89.9,-11,-82.1,-24.1C-74.3,-37.2,-55.8,-44.3,-40.3,-49.5C-24.9,-54.7,-12.4,-58,-1.9,-55.5C8.7,-52.9,17.4,-44.4,26,-37Z',
    'M43.1,-56.2C55.1,-50.5,63.6,-37,69.1,-22C74.5,-7,77,9.4,74.4,26.4C71.9,43.3,64.4,60.9,51.2,72.2C38,83.6,19,88.8,2.5,85.3C-13.9,81.8,-27.8,69.6,-37.4,57.1C-47,44.6,-52.3,31.6,-55.6,18.7C-58.8,5.8,-60,-7,-55.3,-16.8C-50.5,-26.6,-39.9,-33.4,-29.6,-39.6C-19.4,-45.9,-9.7,-51.6,2.9,-55.6C15.5,-59.6,31,-61.9,43.1,-56.2Z',
    'M35.5,-46.5C50.3,-38.1,69.6,-33.5,78.4,-21.8C87.2,-10.2,85.5,8.5,78.2,23.6C70.8,38.6,57.6,49.9,43.6,58.7C29.7,67.5,14.8,73.7,3.7,68.6C-7.4,63.5,-14.8,47,-24.1,36.7C-33.5,26.4,-44.8,22.3,-54,13.1C-63.1,3.8,-70.2,-10.6,-65.6,-20.3C-61.1,-30,-45,-34.9,-32.2,-44C-19.3,-53.1,-9.6,-66.3,0.3,-66.8C10.3,-67.3,20.7,-55,35.5,-46.5Z',
    'M51,-68.3C64.2,-60.6,71.6,-43.2,76,-25.7C80.3,-8.2,81.5,9.4,76.8,25.2C72,41.1,61.3,55.4,47.5,61C33.7,66.6,16.9,63.5,2.4,60.3C-12.1,57,-24.1,53.4,-34,46.5C-43.9,39.6,-51.6,29.5,-60.7,16.2C-69.9,3,-80.4,-13.3,-78.6,-27.6C-76.8,-41.9,-62.6,-54.2,-47.4,-61.2C-32.2,-68.2,-16.1,-69.9,1.4,-71.8C18.9,-73.7,37.8,-75.9,51,-68.3Z',
  ]

  constructor() { }

  ngOnInit() {
  }
  
  ngAfterViewInit(): void {
    setTimeout(() => {
      console.log(999)
      this.currentSvgPath++
      interval(this.svgAnimationInterval).subscribe(() => {
        this.animateSvg();
      })
    }, 200);
  }

  convertStringIntoArray(baseString: string) {
    const result: string[] = [];

    for (let index = 0; index < baseString.length; index++) {
      result.push(baseString[index]);
    }

    return result;
  }

  animateSvg() {
    const totalPaths = this.svgPaths.length;
    this.currentSvgPath = (this.currentSvgPath + 1) % totalPaths;
  }

}
